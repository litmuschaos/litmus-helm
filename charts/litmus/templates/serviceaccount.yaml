{{ if .Values.serviceAccount.create -}}
apiVersion: v1
kind: ServiceAccount
metadata:
  name: {{ include "litmus.serviceAccountName" . }}
  labels:
    name: {{ include "litmus.serviceAccountName" . }}
    instance: {{ .Release.Name }}
    chart: {{ include "litmus.chart" . }}
    litmuschaos.io/version: {{ .Chart.AppVersion }}
{{ end }}
{{ if eq .Values.operatorMode "admin" }}
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: {{ include "litmus.serviceAccountName" . }}-admin
  labels:
    name: {{ include "litmus.name" . }}-admin
    instance: {{ .Release.Name }}
    chart: {{ include "litmus.chart" . }}
    litmuschaos.io/version: {{ .Chart.AppVersion }}
{{ end }}
